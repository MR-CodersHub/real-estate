<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - LuxeEstate</title>
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body class="auth-body">

    <div class="auth-container">
        <!-- Logo centered -->
        <div class="auth-logo-center">
            <a href="index.html" class="site-logo">
                <div class="logo-icon">
                    <i class="ph-fill ph-house-line"></i>
                </div>
                Luxe<span>Estate</span>
            </a>
        </div>

        <!-- Login Card -->
        <div class="auth-card">
            <h2>Sign In</h2>
            <p class="auth-subtitle">Enter your credentials to access your account</p>

            <form action="#" method="POST" id="loginForm">
                <div id="errorMessage" class="auth-error-message" style="display: none;"></div>

                <div class="auth-form-group">
                    <label class="auth-label">Email Address</label>
                    <input type="email" class="auth-input" id="emailInput" placeholder="you@example.com" required>
                </div>

                <div class="auth-form-group">
                    <label class="auth-label">Login As</label>
                    <select class="auth-input" id="roleSelect" required>
                        <option value="user">User</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>

                <div class="auth-form-group">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <label class="auth-label" style="margin-bottom: 0;">Password</label>
                        <a href="#"
                            style="color: var(--secondary); font-size: 0.85rem; text-decoration: none;">Forgot?</a>
                    </div>
                    <div class="password-container">
                        <input type="password" class="auth-input has-icon" id="passwordInput"
                            placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="passwordToggle"
                            aria-label="Toggle password visibility">
                            <i class="ph ph-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="auth-form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" style="width: 16px; height: 16px;">
                        <span style="font-size: 0.875rem; color: var(--text-muted);">Remember me</span>
                    </label>
                </div>

                <button type="submit" id="signInBtn" class="btn btn-primary" style="width: 100%;">
                    Sign In
                </button>

                <div class="auth-divider">or continue with</div>

                <div class="auth-social-grid">
                    <button type="button" class="btn btn-outline" style="font-size: 0.9rem;">
                        <i class="ph ph-google-logo"></i> Google
                    </button>
                    <button type="button" class="btn btn-outline" style="font-size: 0.9rem;">
                        <i class="ph ph-facebook-logo"></i> Facebook
                    </button>
                </div>

                <p class="auth-footer-text">
                    Don't have an account? <a href="register.html">Sign Up</a>
                </p>
            </form>
        </div>

        <!-- Back to Home Link -->
        <div style="text-align: center; margin-top: 2rem;">
            <a href="index.html"
                style="color: var(--text-muted); font-size: 0.875rem; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <i class="ph ph-arrow-left"></i> Back to Homepage
            </a>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script>
        const loginForm = document.getElementById('loginForm');
        const emailInput = document.getElementById('emailInput');
        const passwordInput = document.getElementById('passwordInput');
        const roleSelect = document.getElementById('roleSelect');
        const errorMessage = document.getElementById('errorMessage');

        // Handle form submission
        loginForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const email = emailInput.value.trim();
            const password = passwordInput.value;
            const role = roleSelect.value;

            // Clear previous error message
            errorMessage.style.display = 'none';
            errorMessage.textContent = '';

            // Admin credentials validation
            if (role === 'admin') {
                const adminEmail = 'admin@gmail.com';
                const adminPassword = 'admin123';

                if (email === adminEmail && password === adminPassword) {
                    // Valid admin credentials - redirect to admin dashboard
                    window.location.href = 'admin-dashboard.html';
                } else {
                    // Invalid admin credentials - show error message
                    errorMessage.textContent = 'Invalid Admin Credentials.';
                    errorMessage.style.display = 'block';
                }
            } else if (role === 'user') {
                // User login - proceed without validation (existing behavior)
                window.location.href = 'user-dashboard.html';
            }
        });

        // Password visibility toggle logic
        const passwordToggle = document.getElementById('passwordToggle');

        if (passwordToggle && passwordInput) {
            passwordToggle.addEventListener('click', function () {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);

                const icon = this.querySelector('i');
                if (type === 'text') {
                    icon.classList.replace('ph-eye', 'ph-eye-slash');
                } else {
                    icon.classList.replace('ph-eye-slash', 'ph-eye');
                }
            });
        }
    </script>
</body>

</html>